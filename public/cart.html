<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ondairy</title>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/9.16.0/firebase-app-compat.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/9.16.0/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/9.16.0/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/9.16.0/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/9.16.0/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/9.16.0/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/9.16.0/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/9.16.0/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/9.16.0/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/9.16.0/firebase-performance-compat.js"></script>

    <script type="module" defer>
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.16.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.16.0/firebase-analytics.js";
        import { getStorage, ref } from "https://www.gstatic.com/firebasejs/9.16.0/firebase-storage.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyCYo7gqY3tezdXmfVbkypRd2eVZXPudPGc",
            authDomain: "ih12b213-4.firebaseapp.com",
            databaseURL: "https://ih12b213-4-default-rtdb.firebaseio.com",
            projectId: "ih12b213-4",
            storageBucket: "ih12b213-4.appspot.com",
            messagingSenderId: "988142203119",
            appId: "1:988142203119:web:eea1669d6d6401350e2b1a",
            measurementId: "G-C80M7XW650"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const storage = getStorage();

        // Create a child reference
        const imagesRef = ref(storage, 'form-uploaded/スクリーンショット (0000).png');

        // Get the download URL
        getDownloadURL(imagesRef)
        .then((url) => {
            // `url` is the download URL for 'images/stars.jpg'

            // This can be downloaded directly:
            const xhr = new XMLHttpRequest();
            xhr.responseType = 'blob';
            xhr.onload = (event) => {
            const blob = xhr.response;
            };
            xhr.open('GET', url);
            xhr.send();

            // Or inserted into an <img> element
            const img = document.getElementById('img');
            img.setAttribute('src', url);
        })
        .catch((error) => {
            // A full list of error codes is available at
            // https://firebase.google.com/docs/storage/web/handle-errors
            switch (error.code) {
            case 'storage/object-not-found':
                // File doesn't exist
                break;
            case 'storage/unauthorized':
                // User doesn't have permission to access the object
                break;
            case 'storage/canceled':
                // User canceled the upload
                break;

            // ...

            case 'storage/unknown':
                // Unknown error occurred, inspect the server response
                break;
            }
        });

    </script>
    </head>
    <body>
    <header></header>
    <a href="index.html"><button>トップ画面</button></a>
    <a href="login.html"><button>ログイン</button></a>
    <a href="editor.html"><button>編集画面</button></a>
    <a href="cart.html"><button>カート画面</button></a>

    <div id="cart">
        <img src="" alt="">
        <p>cartアイコン</p>
    </div>

    <footer></footer>
    </body>
</html>